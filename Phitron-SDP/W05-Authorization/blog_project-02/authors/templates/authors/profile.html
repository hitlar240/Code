{% extends "base.html" %}

{% block content %}

{% comment %} <h2 class='text-center p-3'>Profile Page</h2> {% endcomment %}

<div class="w-50 m-auto mt-5 mb-4 d-flex justify-content-between">
    <h4 class='text-success'>Your Profile Page</h4>
    <div class='d-flex gap-2'>
        <a class='btn btn-primary' href={% url "edit_profile" %}>Edit Profile</a>
        <a class='btn btn-warning' href={% url "change_password" %}>Change Password</a>
    </div>
</div>


{% load crispy_forms_tags %}

{% comment %} {% for msg in messages %}
    <h2 class='text-{{msg.tags}}'>{{msg}}</h2>
    <div class="toast align-items-center" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
          <div class="toast-body">
            {{msg}}
          </div>
          <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
{% endfor %} {% endcomment %}


{% for post in posts %}
    <div class="card w-50 m-auto mb-5">
        <div class="card-header bg-success ">
            <h5 class="card-title text-white">{{post.title}}</h5>
        </div>
        <div class="card-body">
            <p class="card-text">{{post.content}}</p>
            <h6><span class='text-success'>Author: </span>{{post.author.first_name}} {{post.author.last_name}}</h6>
            <div class="d-flex flex-wrap gap-2 align-items-center">
                <h6 class='text-success'>Categories: </h6>
                {% for cat in post.category.all %}
                    <button class='btn btn-sm btn-warning'>{{cat.name}}</button>
                {% endfor %}
            </div>
            <div class="text-end">
                <a class='btn btn-sm btn-primary' href={% url "edit_post" post.id %}>Edit</a>
                <a class='btn btn-sm btn-danger' href={% url "delete_post" post.id %}>Delete</a>
            </div>
        </div>
    </div>
{% endfor %}


{% endblock content %}